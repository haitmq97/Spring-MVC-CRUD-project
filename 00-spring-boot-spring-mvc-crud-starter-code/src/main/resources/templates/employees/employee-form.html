<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add new Employee</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<div class="container">
  <h3>Employee Directory</h3>
  <hr />
  <div class="d-flex flex-column justify-content-center">
    <p class="h4 mb-3 col-6">Add new Employee</p>
    <form class="col-6" action="#" th:action="@{/employees/save}"
                     th:object="${employee}" method="POST">
      <input type="hidden" th:field="*{id}"/>
      <div class="mb-3">
        <label for="fname" class="form-label">First Name:</label>
        <input type="text" class="form-control" id="fname" th:field="*{firstName}" placeholder="ex: Joe" />
      </div>

      <div class="mb-3">
        <label for="lname" class="form-label">Last Name:</label>
        <input type="text" class="form-control" id="lname" th:field="*{lastName}" placeholder="ex: Doe" />
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input type="email" class="form-control" id="email" th:field="*{email}" placeholder="ex: joed@example.com" />
      </div>

      <div id="errorMessage" class="mb-3 alert alert-danger" th:if="${existingMessage}">
        <p><strong>Error!</strong>  <span th:text="${existingMessage}"></span></p>
      </div>

      <div class="mb-3">
        <button type="submit" class="btn btn-info">Save</button>
      </div>

    </form>
    <hr />
    <a th:href="@{/employees/list}" class="link-info link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">Back to Employees List</a>
  </div>
</div>



<script th:inline="javascript">
    document.addEventListener("DOMContentLoaded", function() {
        var errorMessage = document.getElementById("errorMessage");
        var inputFields = document.querySelectorAll(".form-control");

        inputFields.forEach(function(input) {
            input.addEventListener("focus", function() {
                errorMessage.style.display = "none";
            });
        });
    });
</script>

</body>
</html>
